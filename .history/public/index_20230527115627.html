<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=0.5, maximum-scale=0.5, user-scalable=0"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://necolas.github.io/normalize.css/8.0.1/normalize.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/speech-commands@0.4.0/dist/speech-commands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8.3/dist/teachablemachine-image.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>

  <body>
    <h1>Pong</h1>
    <h2 id="online-players">Online: 0</h2>
    <h2 id="ping">Ping: 0ms</h2>
    <div id="start-screen">
      <div class="container">
        Username:
        <input id="input-username" type="text" name="username" value="" />
        <br />
        <input
          class="menu-button"
          id="set-username"
          onclick="setUsername();"
          type="submit"
          value="Search for Match Online"
        />
        <br />
        <input
          class="menu-button"
          id="singleplayer"
          onclick="singlePlayer();"
          type="submit"
          value="Versus CPU"
        />
        <input
          class="menu-button"
          id="1v1"
          onclick="oneVerseOne();"
          type="submit"
          value="Versus Local Player"
        />
      </div>
      <div class="container">
        Script Link:
        <input id="input-script" type="text" name="script" value="" />
        <br />
        <input
          class="menu-button"
          id="set-script"
          onclick="setScript();"
          type="submit"
          value="Search for Match Online"
        />
        <br />
        <input
          class="menu-button"
          id="audio"
          onclick="useAudio();"
          type="submit"
          value="Use Audio Model"
        />
        <input
          class="menu-button"
          id="image"
          onclick="useImage();"
          type="submit"
          value="Use Image Modal"
        />
        <input
          class="menu-button"
          id="image"
          onclick="useImage();"
          type="submit"
          value="Use Image Modal"
        />
      </div>
    </div>
    <div id="match-making" style="display: none">
      <h3 id="searching-for-match">Searching for Match...</h3>
    </div>
    <div id="gameplay" style="display: none" onresize="fit_canvas();">
      <canvas id="drawing-canvas" width="600" height="500"></canvas>
    </div>
  </body>
  <script src="/jquery/dist/jquery.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="StaticGame.js"></script>
  <script src="Pong.js"></script>
  <div id="webcam-container"></div>
  <div id="label-container"></div>
  <script type="text/javascript">
    // More API functions here:
    // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

    // the link to your model provided by Teachable Machine export panel    const URL = "https://teachablemachine.withgoogle.com/models/PBZDRy1W2/";

    //img - https://teachablemachine.withgoogle.com/models/3v25s68Fk/

    const URL = "https://teachablemachine.withgoogle.com/models/3v25s68Fk/";

    let model, webcam, labelContainer, maxPredictions;

    let isIos = false;
    // fix when running demo in ios, video will be frozen;
    if (
      window.navigator.userAgent.indexOf("iPhone") > -1 ||
      window.navigator.userAgent.indexOf("iPad") > -1
    ) {
      isIos = true;
    }
  </script>
  <script src="client.js"></script>
</html>
